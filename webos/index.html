<!--
Copyright (c) 2020 LG Electronics Inc.

SPDX-License-Identifier: Apache-2.0
-->

<!DOCTYPE html>
<html>
<head>
<title>Example Web App</title>
<link href="https://fonts.googleapis.com/css2?family=Jua&display=swap" rel="stylesheet">
<style type="text/css">
    *{
    background-color:white;
    font-family: 'Jua', sans-serif;
    font-weight: lighter;
}
   
    body {
        width: 100%;
        height: 100%;
        background-color:white;
    }
    div {
        position:absolute;
        height:100%;
        width:100%;
        display: table;
    }
    h1 {
        position:absolute;
        display: table-cell;
        text-align: right;
        color:black;
        margin-left: 30;
        font-size: 180px;
        font-weight: bold;
    }
    .fingerpng{
        position:absolute;
        vertical-align:left;
        width:100px;
        height:100px
    }


</style>

<script src="https://cdn.jsdelivr.net/npm/socket.io-client@2/dist/socket.io.js"></script>
<script src="https://cdn.socket.io/socket.io-3.0.1.min.js"></script>
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>

<script type="text/javascript">
    window.onload = function() {
        var WindowOpen = 'Open the Window';
        var WindowClose = 'Close the Window'
        var LedOn = 'Turn on the LED'
        var LedOff = 'Turn off the LED'
        var Emergency = "Send Emergency Message"
      
        var finger=1;
        var status=1;

        var socket = io.connect('http://3.35.107.196:5000');
        
         function finger_rend(finger,status){
            if(finger==1){
                document.getElementById("fingerpng").src ="img/fingerone.png";
                if(status==1){
                    document.getElementById("finger").innerHTML = WindowOpen;
                }
                else if(status == 0){
                    document.getElementById("finger").innerHTML = WindowClose;
                }
             }
            else if(finger == 2){
                document.getElementById("fingerpng").src ="img/fingertwo.png";
                if(status ==1){
                    document.getElementById("finger").innerHTML = LedOn;
                }
                else if(status ==0){
                    document.getElementById("finger").innerHTML = LedOff;
                }
            }
            else if(finger==3){
                document.getElementById("fingerpng").src ="img/fingerthree.png";
                document.getElementById("finger").innerHTML = Emergency;
            }

            else{
                document.getElementById("finger").innerHTML = 'default';
            }
        }

        socket.on("connection", function(){
            console.log("connected");
        });
        
        socket.on("finger_one",function(data){
            finger = data.fingerNum
            status = data.status
           finger_rend(finger,status)
        })
        socket.on("finger_two",function(data){
            finger = data.fingerNum
            status = data.status
            finger_rend(finger,status)
        })
        socket.on("finger_three",function(data){
            finger = data.fingerNum
            finger_rend(finger,status)
        })
        
    }
    
</script>

<script>

</script>

</head>
<body>
    <div>
        <img id ="fingerpng" src = "img/fingerthree.png" width="30%">
    </div>

    <div>
        <h1 id="finger">finger</h1>
    </div>
</body>
</html>
